name: 'users'
description: 'base3 application'
prefix: '/tcapi/users'
app_version: '0.0.1'
host: 'users'
port: &port 80


apptype: 'micro-service'

store:
  type: 'redis'
  host: 'redis'
  port: '6379'

mysql:
  db_host: $MYSQL_DBHOST
  db_name: $MYSQL_DBNAME
  db_user: $MYSQL_DBUSER
  db_password: $MYSQL_DBPASSWORD
  db_port: "3306"
  db_type: "mysql"
  db_charset: "utf8"

ombis:
  host: "10.81.16.45"
  user: "WebService"
  password: "Omb!Rest#"
  port: "8070"

db:
  type: 'postgres'
  port: $POSTGRES_PORT
  host: $POSTGRES_HOST
  username: $POSTGRES_USER
  password: $POSTGRES_PASSWORD
  database: $POSTGRES_DBNAME

authorization:
  key: 'jwt'

logging:
  version: 1
  request_logger: base
  formatters:
    brief:
      format: '%(asctime)s %(name)s %(levelname)s : %(message)s'
    detailed:
      format: 'time="%(asctime)s" logger="%(name)s" level="%(levelname)s" %(message)s'
  handlers:
    console:
      class: logging.StreamHandler
      level: CRITICAL
      formatter: brief
      stream: ext://sys.stdout
    file:
      class : logging.handlers.RotatingFileHandler
      level: DEBUG
      formatter: detailed
      filename: /logs/base_app.log
      backupCount: 3
    ombis_file:
      class : logging.handlers.RotatingFileHandler
      level: DEBUG
      formatter: detailed
      filename: /logs/ombis_users.log
      backupCount: 3
    ipc_file:
      class : logging.handlers.RotatingFileHandler
      level: DEBUG
      formatter: detailed
      filename: /logs/ipc_users.log
      backupCount: 3

  loggers:

    ombis:
      level: DEBUG
      handlers:
        - ombis_file
        - console

    ipc:
      level: DEBUG
      handlers:
        - ipc_file
        - console

    base:
      level: DEBUG
      handlers:
        - console
        - file
      propagate: no

    tornado.access:
      level: DEBUG
      handlers:
        - file
    tornado.application:
      level: DEBUG
      handlers:
        - file
    tornado.general:
      level: DEBUG
      handlers:
        - file
  root:
    level: WARNING
    handlers:
      - console
  